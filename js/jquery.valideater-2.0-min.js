!function(t,e){"use strict";function a(e,a){this.element=e,this.settings=t.extend({},s,a),this._defaults=s,this._name=r,this.init()}var r="valideater",s={alpha:"Value must be letters.",alphanumeric:"Letters and numbers required.",characters4:"At least 4 characters please.",dob:"Please give a valid date of birth.",email:"Invalid email.",matches:"These values do not match.",numeric:"Value must be numeric.",postcode:"Invalid postcode.",radio:"Please choose an option.",required:"This information is required.",livecheck:!0,maxage:122,minage:18,alerts:!0,errorCssClass:"js-vldtr-error",alertCssClass:"js-vldtr-alert"};t.extend(a.prototype,{init:function(){var e=this;return this.element.invalidElements={},e.assignRef(),t(this.element).on("submit",function(){return e.hasErrors=!1,e.validate(),e.hasErrors===!1?!0:e.settings.livecheck===!0?(e.livecheck(),!1):!1})},livecheck:function(){var e=this;t("[data-vldtr]",this.element).on("change keyup",function(){e.validate(t(this))});var a=t("."+this.settings.errorCssClass+":first",this.element),r="input, select, textarea, button";a.is(r)?a.focus():a.find(r).focus()},alpha:function(t){return/^[a-zA-Z]+$/.test(t.val())===!1||""===t.val()},alphanumeric:function(t){var e=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/;return e.test(t.val())===!1},characters4:function(t){var e=t.val();return e.length<4&&""!==e},dob:function(t){var e=(new Date).getFullYear(),a=this.formatDate(t.val()),r=t.data().vldtrMinage||this.settings.minage,s=t.data().vldtrMaxage||this.settings.maxage;if(!a||a[1]<1||a[1]>31||a[2]<1||a[2]>12||a[3]>e)return!0;var n=this.formatAge(t);return n>s?(this.settings.dob="You cannot be older than "+s+" years old.",!0):r>n?(this.settings.dob="You must be older than "+r+" years old.",!0):!1},email:function(t){var e=/^([A-Za-z0-9_\'\-\.\+])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return e.test(t.val())===!1},matches:function(e){var a=e.attr("data-vldtr-matches"),r=t("#"+a).val();return e.val()!==r},numeric:function(t){return isNaN(e.parseInt(t.val()))},postcode:function(t){var e=t.val().replace(/\s+/g,""),a=/(((([A-PR-UWYZ][0-9][0-9A-HJKS-UW]?)|([A-PR-UWYZ][A-HK-Y][0-9][0-9ABEHMNPRV-Y]?))\s{0,2}[0-9]([ABD-HJLNP-UW-Z]{2}))|(GIR\s{0,2}0AA))/i;return a.test(e)===!1},radio:function(e){var a=t("input[type=radio]",e);return a.filter(function(){return this.checked}).length?!1:!0},required:function(e){return""===e.val()||e.val()===t(e).attr("placeholder")},formatDate:function(t){var e=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;return t.match(e)},formatAge:function(t){var e=this.formatDate(t.val()),a=new Date(e[3]+"-"+e[2]+"-"+e[1]),r=Date.now()-a.getTime(),s=new Date(r);return Math.abs(s.getFullYear()-1970)},assignRef:function(){(new Date).getTime();t("[data-vldtr]",this.element).each(function(t){this.ref=this.type+t})},addError:function(e,a){var r=e[0].ref,s=this.element.invalidElements;s[r]=s[r]||[],-1===t.inArray(a,s[r])&&(s[r].push(a),this.showAlert(e,a))},showAlert:function(e,a){var r=this;if(e.addClass(r.settings.errorCssClass),!e.attr("data-vldtr-alert")){var s=e.attr("data-vldtr-err-"+a),n=s?s:r.settings[a],i=t("<span>"+n+"</span>");i.addClass(r.settings.alertCssClass).addClass(r.settings.alertCssClass+"-"+a).addClass("js-vldtr-"+e[0].ref),e.after(i)}},removeError:function(e,a){var r=e[0].ref;this.element.invalidElements[r]=t.grep(this.element.invalidElements[r],function(t){return t!==a}),t("."+this.settings.alertCssClass+"-"+a+".js-vldtr-"+r,this.element).remove(),0===this.element.invalidElements[r].length&&e.removeClass(this.settings.errorCssClass)},runChecks:function(e){for(var a,r=e.attr("data-vldtr").split(","),s=0;s<r.length;s++)a=r[s],this[a]&&(this[a](e)===!0?this.addError(e,a):-1!==t.inArray(a,this.element.invalidElements[e[0].ref])&&this.removeError(e,a))},validate:function(e){var a=this,r=this.element.invalidElements;e?a.runChecks(e):t("[data-vldtr]",a.element).each(function(){a.runChecks(t(this))});var s,n=[];for(s in r)for(var i=0;i<r[s].length;i++)n.push(r[s][i]);n.length&&(a.hasErrors=!0)}}),t.fn[r]=function(e){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new a(this,e))})}}(window.jQuery||window.Zepto,window,document);